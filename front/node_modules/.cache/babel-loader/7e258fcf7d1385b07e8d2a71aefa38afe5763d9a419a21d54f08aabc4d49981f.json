{"ast":null,"code":"import CustomModalComponent from \"./CustomModalComponent.vue\";\nexport default {\n  name: \"SupplierModalComponent\",\n  components: {\n    CustomModalComponent\n  },\n  data() {\n    return {\n      data: {\n        id: \"\",\n        entityId: \"\",\n        name: \"\",\n        address: \"\",\n        phone: \"\"\n      }\n    };\n  },\n  props: {\n    title: {\n      type: String,\n      default: \"Редактирование записи\"\n    },\n    submitHandler: {\n      type: Function,\n      default: function () {}\n    }\n  },\n  methods: {\n    show(data) {\n      if (data !== undefined) {\n        this.data.id = data.id;\n        this.data.entityId = data.entityId;\n        this.data.name = data.name;\n        this.data.address = data.address;\n        this.data.phone = data.phone;\n      } else {\n        this.data.id = \"\";\n        this.data.entityId = \"\";\n        this.data.name = \"\";\n        this.data.address = \"\";\n        this.data.phone = \"\";\n      }\n      this.$refs[\"custom-modal\"].show(this.data);\n    },\n    close() {\n      this.$refs[\"custom-modal\"].close();\n    },\n    submit(data, modalEvent) {\n      modalEvent.preventDefault();\n      if (this.isValid) {\n        this.submitHandler(this.data, modalEvent);\n      }\n    },\n    validateName(str) {\n      return str != null && str != \"\" ? null : false;\n    },\n    validateTelephone(str) {\n      console.log(str);\n      //eslint-disable-next-line \n      let e = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/gm;\n      let res = e.exec(str);\n      return res != null && res[0] == str ? null : false;\n    }\n  },\n  computed: {\n    addressState() {\n      return this.validateName(this.data.address);\n    },\n    nameState() {\n      return this.validateName(this.data.name);\n    },\n    phoneState() {\n      return this.validateTelephone(this.data.phone);\n    },\n    isValid() {\n      return this.addressState == null && this.nameState == null && this.phoneState == null;\n    }\n  }\n};","map":{"version":3,"names":["CustomModalComponent","name","components","data","id","entityId","address","phone","props","title","type","String","default","submitHandler","Function","methods","show","undefined","$refs","close","submit","modalEvent","preventDefault","isValid","validateName","str","validateTelephone","console","log","e","res","exec","computed","addressState","nameState","phoneState"],"sources":["src/components/SupplierModalComponent.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <CustomModalComponent\r\n      ref=\"custom-modal\"\r\n      :okHandler=\"submit\"\r\n      :title=\"title\"\r\n    >\r\n      <template v-slot:body>\r\n        <form ref=\"form\">\r\n          <b-form-group\r\n            label=\"Название\"\r\n            label-for=\"name-input\"\r\n            invalid-feedback=\"Не может быть пустым\"\r\n            :state=\"nameState\"\r\n          >\r\n            <b-form-input\r\n              id=\"name-input\"\r\n              v-model=\"data.name\"\r\n              :state=\"nameState\"\r\n              placeholder=\"Введите название\"\r\n              debounce=\"500\"\r\n              required\r\n            ></b-form-input>\r\n          </b-form-group>\r\n\r\n          <b-form-group\r\n            label=\"Адрес\"\r\n            label-for=\"name-input\"\r\n            invalid-feedback=\"Не может быть пустым\"\r\n            :state=\"addressState\"\r\n          >\r\n            <b-form-input\r\n              id=\"name-input\"\r\n              v-model=\"data.address\"\r\n              :state=\"addressState\"\r\n              placeholder=\"Введите адрес\"\r\n              debounce=\"500\"\r\n              required\r\n            ></b-form-input>\r\n          </b-form-group>\r\n\r\n          <b-form-group\r\n            label=\"Телефон\"\r\n            label-for=\"name-input\"\r\n            invalid-feedback=\"Неверный формат. Пример: 89999999999\"\r\n            :state=\"phoneState\"\r\n          >\r\n            <b-form-input\r\n              id=\"name-input\"\r\n              type=\"tel\"\r\n              v-model=\"data.phone\"\r\n              :state=\"phoneState\"\r\n              placeholder=\"Введите телефон\"\r\n              debounce=\"500\"\r\n              required\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </form>\r\n      </template>\r\n    </CustomModalComponent>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CustomModalComponent from \"./CustomModalComponent.vue\";\r\n\r\nexport default {\r\n  name: \"SupplierModalComponent\",\r\n  components: { CustomModalComponent },\r\n  data() {\r\n    return {\r\n      data: {\r\n        id: \"\",\r\n        entityId: \"\",\r\n        name: \"\",\r\n        address: \"\",\r\n        phone: \"\"\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"Редактирование записи\"\r\n    },\r\n    submitHandler: {\r\n      type: Function,\r\n      default: function () { }\r\n    }\r\n  },\r\n  methods: {\r\n    show(data) {\r\n      if (data !== undefined) {\r\n        this.data.id = data.id;\r\n        this.data.entityId = data.entityId;\r\n        this.data.name = data.name;\r\n        this.data.address = data.address;\r\n        this.data.phone = data.phone;\r\n      }\r\n      else {\r\n        this.data.id = \"\";\r\n        this.data.entityId = \"\";\r\n        this.data.name = \"\";\r\n        this.data.address = \"\";\r\n        this.data.phone = \"\";\r\n      }\r\n\r\n      this.$refs[\"custom-modal\"].show(this.data);\r\n    },\r\n    close() {\r\n      this.$refs[\"custom-modal\"].close();\r\n    },\r\n    submit(data, modalEvent) {\r\n      modalEvent.preventDefault();\r\n      if (this.isValid) {\r\n        this.submitHandler(this.data, modalEvent);\r\n      }\r\n    },\r\n\r\n    validateName(str) {\r\n      return str != null && str != \"\" ? null : false;\r\n    },\r\n\r\n    validateTelephone(str){\r\n      console.log(str);\r\n      //eslint-disable-next-line \r\n      let e = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/gm;\r\n      let res = e.exec(str);\r\n      return res != null && res[0] == str ? null : false;\r\n    }\r\n  },\r\n  computed: {\r\n    addressState() {\r\n      return this.validateName(this.data.address);\r\n    },\r\n    nameState() {\r\n      return this.validateName(this.data.name);\r\n    },\r\n    phoneState() {\r\n      return this.validateTelephone(this.data.phone);\r\n    },\r\n    isValid() {\r\n      return this.addressState == null && this.nameState == null && this.phoneState == null;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style></style>"],"mappings":"AA+DA,OAAAA,oBAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAA,IAAA;QACAC,EAAA;QACAC,QAAA;QACAJ,IAAA;QACAK,OAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,aAAA;MACAH,IAAA,EAAAI,QAAA;MACAF,OAAA,WAAAA,CAAA;IACA;EACA;EACAG,OAAA;IACAC,KAAAb,IAAA;MACA,IAAAA,IAAA,KAAAc,SAAA;QACA,KAAAd,IAAA,CAAAC,EAAA,GAAAD,IAAA,CAAAC,EAAA;QACA,KAAAD,IAAA,CAAAE,QAAA,GAAAF,IAAA,CAAAE,QAAA;QACA,KAAAF,IAAA,CAAAF,IAAA,GAAAE,IAAA,CAAAF,IAAA;QACA,KAAAE,IAAA,CAAAG,OAAA,GAAAH,IAAA,CAAAG,OAAA;QACA,KAAAH,IAAA,CAAAI,KAAA,GAAAJ,IAAA,CAAAI,KAAA;MACA,OACA;QACA,KAAAJ,IAAA,CAAAC,EAAA;QACA,KAAAD,IAAA,CAAAE,QAAA;QACA,KAAAF,IAAA,CAAAF,IAAA;QACA,KAAAE,IAAA,CAAAG,OAAA;QACA,KAAAH,IAAA,CAAAI,KAAA;MACA;MAEA,KAAAW,KAAA,iBAAAF,IAAA,MAAAb,IAAA;IACA;IACAgB,MAAA;MACA,KAAAD,KAAA,iBAAAC,KAAA;IACA;IACAC,OAAAjB,IAAA,EAAAkB,UAAA;MACAA,UAAA,CAAAC,cAAA;MACA,SAAAC,OAAA;QACA,KAAAV,aAAA,MAAAV,IAAA,EAAAkB,UAAA;MACA;IACA;IAEAG,aAAAC,GAAA;MACA,OAAAA,GAAA,YAAAA,GAAA;IACA;IAEAC,kBAAAD,GAAA;MACAE,OAAA,CAAAC,GAAA,CAAAH,GAAA;MACA;MACA,IAAAI,CAAA;MACA,IAAAC,GAAA,GAAAD,CAAA,CAAAE,IAAA,CAAAN,GAAA;MACA,OAAAK,GAAA,YAAAA,GAAA,OAAAL,GAAA;IACA;EACA;EACAO,QAAA;IACAC,aAAA;MACA,YAAAT,YAAA,MAAArB,IAAA,CAAAG,OAAA;IACA;IACA4B,UAAA;MACA,YAAAV,YAAA,MAAArB,IAAA,CAAAF,IAAA;IACA;IACAkC,WAAA;MACA,YAAAT,iBAAA,MAAAvB,IAAA,CAAAI,KAAA;IACA;IACAgB,QAAA;MACA,YAAAU,YAAA,iBAAAC,SAAA,iBAAAC,UAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}